# Project MIX: Information Microservices Documentation

# Weather IM by Rochelle Tham
This IM will provide basic weather information about the given location.     

## API Web Service used: National Weather Service (NWS) API
The National Weather Service provides open data for forecasts, alerts, observations, and other weather data.   

## Useful Links
Documentation can be find here: https://www.weather.gov/documentation/services-web-api    

## How the the API is Called
User must provide a location's latitude and longitude to get the location's weather data.    
When given the location's latitude and longitude, the following steps are used to retrive the weather data:
1. Insert the GPS coordinates into {location} parameter of url: https://api.weather.gov/points/{location}
2. Request weather json from the url stored in dictionary key: "forecast" 


# Timezone IM by Chrysilla Rodrigues
This IM will provide basic information about the current time,timezone name,timezone abrreviation and GMT offset for a given location.

## API Web Service used: TimezoneDB API:
The TimezoneDB API provides information such countries name, time zones, abbreviation, GMT offset, and Daylight Saving Time (DST) for any location. 

## Useful Links
Documentation can be found here for Timezone API: https://timezonedb.com/api  

## How the the API is Called
A location's latitude and longitude along with the API key must be provided to the timezonedb API.
The following steps are used to retrive the timezone data:

1. Insert the API key into {key} parameter
2. Set format parameter as json
3. Insert GPS coordinates into {lat},{lng} parameters into the API url as: http://api.timezonedb.com/v2.1/get-time-zone?key={key}&format=json&by=position&lat={lat}&lng={lng}
4. Retrive time zone name, abbreviation, GMT offset, current date time from json returned. 


# Sunset Sunrise Times IM by Chrysilla Rodrigues
This IM provides the sunrise and sunset time for a given location. The sunset sunrise API returns time in UTC. Inorder to display the accurate sunrise sunset times, the GMT offset is used which was generated by the Timezone IM.

## API Web Services used: Sunset Sunrise API
Sunset Sunrise API provides users information about day length, twilight, sunrise and sunset times for any location of the world.

## Useful Links
Documentation can be found here for Sunset Sunrise API:https://sunrise-sunset.org/api

## How the the API is Called
A location's latitude and longitude along with the date must be provided to the sunrise sunset API.
The following steps are used to retrive the timezone data:

1. Insert GPS coordinates into {lat},{lng} and date into {date} parameters the API url as:https://api.sunrise-sunset.org/json?lat={lat}&lng={lng}&date={date}
2. Retrive sunrise time and sunset time from json returned.
3. The sunset sunrise API returns time in UTC. In order to display the sunrise sunset times in the locations timezone, the offset which was retrived by timezone API call for the given location  is used. 

# Geographical IM by Kruthi Challa

This IM provides basic geographical information about the user-inputted location such as the city, state and country it's located in. 

## API used: Mapquest Geocoding API - Reverse Geocode

Reverse geocoding is the process of taking a latitude and longitude pair and providing the associated address, or nearest address point.

Example: 41.947239,-87.655636 returns 1060 W. Addison St., Chicago, IL 60613 

## Useful Links

Documentation can be found here: https://developer.mapquest.com/documentation/open/geocoding-api/reverse/get/

## How the API is called
1. Parameters `location` and API KEY must be provided when making a request to the API along with the URL. Location is the user-provided latitude and longitude. For example:

```
parameters = {
      "key" : YOUR_API_KEY, 
      "location" : location
}
response = requests.get('http://open.mapquestapi.com/geocoding/v1/reverse', params = parameters)
```
2. Retrieve city, state and country data from JSON output. 

# News IM by Kruthi Challa
This IM is dependent on the output of the geographical IM. It uses the country attribute that is returned from geographical IM. 
This IM provides top headline news articles of the country of the specified latitude and longitude. 

## API Web Service used: NEWS API 
News API is a simple HTTP REST API for searching and retrieving live articles from all over the web. 

## Useful Links
Documentation for the News API can be found here: https://newsapi.org/docs 

## How the the API is Called
Using the geographical IM, the location's country is given to the News API to return news articles for that particular country. If no top headlines are there for the country, nothing is returned. An API key is needed to call the News API.
When given the location's latitude and longitude, the following steps are used to retrive the news articles:
1. Call the geographical API and get the location's country
2. Request news json from the url: http://newsapi.org/v2/top-headlines?country={country}" where country is the location's country

# Pollution IM by Kruthi Challa
This IM is dependent on the output of the geographical IM. It uses the city attribute that is returned from geographical IM. 
This IM provides pollution data such as Air Quality Index, Ozone Levels, O2 levels, etc. of the specified city retrived from the latitude and longitude. 

## API Web Service used: Ambee Air Quality API 
Ambee Air Quality API helps you to get real-time, hyper local air quality data for any city by passing the name of the city. The API also provides location information about the latitude, longitude passed like countryCode, division, postalCode, placename, state, city, etc.

## Useful Links
Documentation for the Pollution API can be found here: https://docs.ambeedata.com/#aq-intro

## How the the API is Called
Using the geographical IM, the location's city is given to the Pollution API to return news articles for that particular city. An API key is needed to call the Pollution API.
When given the location's latitude and longitude, the following steps are used to retrive the pollution data:
1. Call the geographical API and get the location's city
2. Request news json from the url: https://api.ambeedata.com/latest/by-city" and pass the city parameter to the query. 

# Bird IM by Rochelle Tham
This IM is dependent on the geographical IM.    
The IM will provide information about birds sighted at the given location.     

## API Web Service used: eBird API 2.0
The Cornell Lab of Ornithology created the eBird API which provides real-time data of bird sightings. For this IM, it provides recent observations of birds in the given location's state. 

## Useful Links
Documentation can be find here: https://documenter.getpostman.com/view/664302/S1ENwy59  

## How the the API is Called
Using the geographical IM, the location's state is given to the eBird API to return bird data for that particular state. An API key is needed to call the eBird API. 
When given the location's latitude and longitude, the following steps are used to retrive the bird data:
1. Call the geographical API and get the location's state
2. Request bird json from the url: https://api.ebird.org/v2/data/obs/{regionCode}/recent" where regionCode is the location's state

# Holiday IM by Rochelle Tham
This IM is dependent on the geographical IM.    
The IM will provide information on the location's national holiday per the requested day.      

## API Web Service used: Abstract API: holidays
The Abstract API offers many different API's, including the holidays API which returns information about the national holiday of a given country, month, day, and year. 

## Useful Links
Documentation can be found here: https://app.abstractapi.com/api/holidays  

## How the the API is Called
Using the geographical IM, the location's country is given to the abstract holiday API to return holiday information. An API key is needed to call the Abstract holiday API. 
When given the location's latitude and longitude, the following steps are used to retrive the holiday data:
1. Call the geographical API and get the location's country
2. Request holiday json from the url: https://holidays.abstractapi.com/v1/?api_key={key}&country={country}&year={y}&month={m}&day={d}" where you include the API key, country, year, month, and day. The free option only allows specific day inputs -- you would need to pay to get multiple holidays in a month or year.   
If there is no holiday for the given input, then the API will return an empty json.  

# Restaurant IM by Chrysilla 
This IM provides information about restaurants within a radius of 500 meters. Information provided about each restaurant includes name, address, phone number,website, rating, price level and reviews.     

## API Web Services used: Google Places API:
### 1)Place Search Nearby
### 2)Place Details
The Google Places API offers many different API's.The Places API is a service that returns information about places using HTTP requests. Places are defined within this API as establishments, geographic locations, or prominent points of interest.
A **Place Nearby Search** lets you search for places within a specified area(location and radius) by specifying the type of establishment for eg restaurant. It returns places with a place_id.
With a place_id from a Place Search, you can request more details about a particular establishment by a **Place Details** request. A Place Details request returns omprehensive information about the indicated place such as its complete address, phone number, user rating and reviews.

## Useful Links
Documentation for Places Search Nearby: https://developers.google.com/maps/documentation/places/web-service/search-nearby

Documentation for Places Details: https://developers.google.com/maps/documentation/places/web-service/details
## How the the APIs are Called
1)Place Search Nearby
A location's latitude and longitude,radius with which you want the results and type of establishment(restaurant,cafe,church etc) along with the API key must be provided to the API.
The following steps are used to retrive the timezone data:

1. Insert the API key into {key} parameter
2. Set format parameter as json
3. Insert GPS coordinates into {location} parameter into the API url as: https://maps.googleapis.com/maps/api/place/nearbysearch/json?location={location}&radius={radius}&type={restaurant}&key={key}"
4. Set radius parameter as 500 
5. Set type as restaurant
5. Retrive place_id for all results from json returned. 

2)Place Details
A place's place_id along with the date must be provided to the sunrise sunset API.
The following steps are used to retrive the timezone data:

1. Parameters `location`,`field` and API key must be provided when making a request to the API.  The place_id is the ID retrievd from the Place Search Nearby API. The field parameter is the information we want to request from the API.This is done as follows:
```endpoint_url = "https://maps.googleapis.com/maps/api/place/details/json"
        params = {
            'placeid': place_id,
            'fields': 'name,formatted_address,international_phone_number,website,rating,review',
            'key': {key}
        }
response = requests.get(endpoint_url, params = params)
```
2. Retrive name,formatted address,international phone number,website,rating,review for each restaurant from json returned.
